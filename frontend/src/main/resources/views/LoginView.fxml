<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.smarttask_frontend.auth.controller.LoginController"
            stylesheets="@../styles/login.css"
            prefWidth="800" prefHeight="500">

    <!-- LEFT SIDE -->
    <left>
        <VBox alignment="CENTER"
              prefWidth="350"
              styleClass="login-sidebar">

            <Label text="SmartTask."
                   styleClass="login-brand-text"/>

            <Label text="Manage your workflow efficiently."
                   styleClass="login-tagline"/>

        </VBox>
    </left>

    <!-- CENTER -->
    <center>

        <StackPane>

            <!-- ================= LOGIN FORM ================= -->
            <VBox fx:id="loginForm"
                  alignment="CENTER"
                  spacing="20"
                  styleClass="login-container">

                <VBox maxWidth="350" spacing="20">

                    <VBox spacing="5" alignment="CENTER_LEFT">
                        <Label text="Welcome Back"
                               styleClass="login-title"/>

                        <Label text="Please enter your details to sign in."
                               style="-fx-text-fill: -text-secondary; -fx-font-size: 14px;"/>
                    </VBox>

                    <VBox spacing="15">

                        <VBox spacing="5">
                            <Label text="Email"
                                   style="-fx-text-fill: -text-secondary; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <TextField fx:id="email"
                                       promptText="name@company.com"
                                       styleClass="input-field"/>
                        </VBox>

                        <VBox spacing="5">
                            <Label text="Password"
                                   style="-fx-text-fill: -text-secondary; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <PasswordField fx:id="password"
                                           promptText="••••••••"
                                           styleClass="input-field"/>
                        </VBox>

                    </VBox>

                    <Button fx:id="loginButton" text="Sign In"
                            onAction="#login"
                            styleClass="button-primary"
                            maxWidth="Infinity"
                            prefHeight="40"/>

                    <HBox alignment="CENTER" spacing="5">
                        <Label text="Don't have an account?"
                               style="-fx-text-fill: -text-secondary;"/>

                        <Label text="Register now"
                               styleClass="link-text"
                               onMouseClicked="#switchToRegister"/>
                    </HBox>

                </VBox>
            </VBox>


            <!-- ================= REGISTER FORM ================= -->
            <VBox fx:id="registerForm"
                  alignment="CENTER"
                  spacing="20"
                  styleClass="login-container"
                  visible="false"
                  managed="false">

                <VBox maxWidth="350" spacing="20">

                    <VBox spacing="5" alignment="CENTER_LEFT">
                        <Label text="Create account"
                               styleClass="login-title"/>

                        <Label text="Fill the form to register."
                               style="-fx-text-fill: -text-secondary; -fx-font-size: 14px;"/>
                    </VBox>

                    <VBox spacing="15">

                        <VBox spacing="5">
                            <Label text="Full name"
                                   style="-fx-text-fill: -text-secondary; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <TextField fx:id="regName"
                                       promptText="Your name"
                                       styleClass="input-field"/>
                        </VBox>

                        <VBox spacing="5">
                            <Label text="Email"
                                   style="-fx-text-fill: -text-secondary; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <TextField fx:id="regEmail"
                                       promptText="name@company.com"
                                       styleClass="input-field"/>
                        </VBox>

                        <VBox spacing="5">
                            <Label text="Password"
                                   style="-fx-text-fill: -text-secondary; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <PasswordField fx:id="regPassword"
                                           promptText="••••••••"
                                           styleClass="input-field"/>
                        </VBox>

                    </VBox>

                    <Button text="Create account"
                            onAction="#register"
                            styleClass="button-primary"
                            maxWidth="Infinity"
                            prefHeight="40"/>

                    <HBox alignment="CENTER" spacing="5">
                        <Label text="Already have an account?"
                               style="-fx-text-fill: -text-secondary;"/>

                        <Label text="Sign in"
                               styleClass="link-text"
                               onMouseClicked="#switchToLogin"/>
                    </HBox>

                </VBox>
            </VBox>

        </StackPane>

    </center>

</BorderPane>
